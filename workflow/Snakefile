# Based on:
# https://github.com/rberrens/SPOCD1-piRNA_directed_DNA_met/tree/master/piRNA_analysis

# load configuration
# -----------------------------------------------------
configfile: "config/config.yaml"


# load rules
# -----------------------------------------------------
include: "rules/common.smk"


#GENOME = config["genome"]
SAMPLES = samples()

include: "rules/process_reads.smk"
include: "rules/plotting.smk"
#include: "rules/resources.smk"

onstart:
    print("\n--- Analysis started ---\n")


onsuccess:
    print("\n--- Workflow finished! ---\n")


onerror:
    print("\n--- An error occurred! ---\n")


# target rules
# -----------------------------------------------------
rule all:
    input:
        #expand("results/fasta/{sample}_counts.fasta", sample=SAMPLES),
        #"results/multiqc/multiqc_report.html",
        "results/plots/length_distribution.pdf"
